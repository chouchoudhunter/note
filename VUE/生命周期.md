# 1.什么是生命周期？
{: id="20201221163732-lkvsx9v"}

每个Vue实例在被创建时都要经过一系列的初始化过程：
{: id="20201221163812-himj9oj"}

开始创建 -> 初始化数据 -> 编译模板 -> 挂载DOM-渲染 -> 更新-渲染 -> 销毁等一系列过程
{: id="20201221163812-dx5qvgs"}

通俗而言：Vue实例从创建到销毁的过程
{: id="20201221163812-92ztrk3"}

生命周期分为8个过程：创建前，创建后，挂载前，挂载后，更新前，更新后，销毁前，销毁后。
{: id="20201221163812-z3sd8m0"}

# 2.vue生命周期的作用是什么？
{: id="20201221163732-w2jlfwu"}

在Vue实例经过一系列初始化的过程中也会运行一些 叫做 生命周期钩子 的函数， 生命週期裡邊这些事件钩子，给予了用户在不同阶段可以添加自己代码的机会。
{: id="20201221163819-fui7z67"}

![](https://user-gold-cdn.xitu.io/2019/7/2/16bb0e8e859904a2?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)
{: id="20201221163732-roe0ijh"}

# 3.各个生命周期中打印下el，data，dom节点
{: id="20201221163635-q8f2i59"}

```

export default {
  name: 'App',
  data() {
    return {
      title: '标题'
    }
  },
   methods: {
    onDestoryClick() {
      this.$destroy()
    }
  },
  beforeCreate() {
    console.log(
      `\n\nbeforeCreate打头\n$el    :${this.$el}\n$data     :${JSON.stringify(
        this.$data
      )}\n$refs.head   :${JSON.stringify(
        this.$refs.head
      )}\nbeforeCreate结尾\n\n`
    )
    console.log(this.$vnode)
  },
  created() {
    console.log(
      `\n\ncreated打头\n$el    :${this.$el}\n$data     :${JSON.stringify(
        this.$data
      )}\n$refs.head   :${JSON.stringify(this.$refs.head)}\ncreated结尾\n\n`
    )
    console.log(this.$vnode)
  },
  beforeMount() {
    console.log(
      `\n\nbeforeMount打头\n$el    :${this.$el}\n$data     :${JSON.stringify(
        this.$data
      )}\n$refs.head   :${JSON.stringify(this.$refs.head)}\nbeforeMount结尾\n\n`
    )
    console.log(this.$vnode)
  },
  mounted() {
    console.log(
      `\n\nmounted打头\n$el    :${this.$el}\n$data     :${JSON.stringify(
        this.$data
      )}\n$refs.head   :${JSON.stringify(this.$refs.head)}\nmounted结尾\n\n`
    )
    console.log(this.$vnode)
  }
}

```
{: id="20201221161518-atmyle7"}

![image.png](assets/20201221164043-gdb4hp4-image.png)
{: id="20201221163953-xbu0kzm"}

### 1.beforeCreate
{: id="20201221163704-gokme6f"}

拿不到任何数据，它在实例初始化之后，数据观测 (data observer) 和 event/watcher 事件配置之前被调用。
{: id="20201221164125-b8uvyd2"}

### 2.created
{: id="20201221164200-0fok948"}

已经可以拿到data中的数据了，但是dom还没有挂载。会判断有无el，如果没有el则停止后面的模板挂载。
{: id="20201221164203-l1vzb6i"}

在实例创建完成后被立即调用。在这一步，实例已完成以下的配置：数据观测 (data observer)，属性和方法的运算，watch/event 事件回调。
使用场景：AJAX请求和页面初始化
{: id="20201221163704-3lwe8ih"}

### 3.beforeMount
{: id="20201221163704-5d0g18i"}

和 created拿到的数据相同 在挂载开始之前被调用：相关的 render 函数首次被调用。
{: id="20201221164229-wdcab4z"}

### 4.mounted
{: id="20201221164234-2wm63qw"}

el被创建dom已经更新，vue实例对象中有template参数选项，则将其作为模板编译成render函数，编译优先级render函数选项 > template选项
{: id="20201221164238-1cvfha9"}

使用场景：常用于获取VNode信息和操作，AJAX请求
注意 mounted 不会承诺所有的子组件也都一起被挂载。如果你希望等到整个视图都渲染完毕，可以用 vm.$nextTick 替换掉 mounted
{: id="20201221163704-g7vzz7l"}

### 5.beforeUpdate和updated
{: id="20201221163704-y843smt"}

使用的比较少，一般用计算属性和watch代替所以在此不在说明
{: id="20201221164332-iddgqzp"}

### 6.destroyed
{: id="20201221163704-gn87mve"}

Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。
{: id="20201221164312-2wv3vy1"}

{: id="20201221163704-62zyyt5"}


{: id="20201221161518-8p0fm1g" type="doc"}
